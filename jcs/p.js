/*Simple PJAX - SomeBottle*/
var mainhost=window.location.host,dt=(new Date).getTime();if(void 0==PJAX||null==PJAX)var PJAX={index:null===window.history.state?1:window.history.state.page,PJAXStart:new CustomEvent("pjaxstart"),PJAXFinish:new CustomEvent("pjaxfinish"),lasthref:window.location.href,preventurl:[],replace:"",sel:function(a){this.replace=a},jump:function(a){var b=this;window.dispatchEvent(b.PJAXStart);$.aj(a,{},{success:function(a){$.ht(a,b.replace);window.dispatchEvent(b.PJAXFinish)},failed:function(a){window.dispatchEvent(b.PJAXFinish)}},"get","",!0)},start:function(){var a=this,b=document.getElementsByTagName("a"),c;for(c in b)b[c].onclick=function(b){if(-1!==a.preventurl.indexOf(this.href)||-1!==this.href.indexOf("#"))return!0;window.history.pushState(null,null,this.href);b.preventDefault();a.jump(this.href)};window.onpopstate=function(a){-1!==window.location.href.indexOf(mainhost)&&PJAX.jump(window.location.href)}},autoprevent:function(){var a=document.getElementsByTagName("a"),b=window.location.host,c;for(c in a)void 0!==a[c].href&&-1==a[c].href.indexOf(b)&&this.preventurl.push(a[c].href)}};